@use '../../../App.scss' as rs;

.VideoPlayer {
  .playerMain {
    width: 100%;
    height: 100vh;
    aspect-ratio: 1920/1080;
    position: relative;

    &::after {
      content: '';
      width: 100%;
      height: 100vh;
      position: absolute;
      top: 0;
      left: 0;
      background: url('/images/main/skeleton.svg') 50% / cover no-repeat;
      z-index: -1;
    }

    &::before {
      content: '';
      width: 100%;
      height: 100vh;
      position: absolute;
      top: 0;
      left: 0;
      background: linear-gradient(
        180deg,
        rgba(2, 23, 42, 0) 30%,
        rgba(2, 23, 42, 0.6) 80%,
        #02172a 100%
      );
    }

    img {
      width: 100%;
      height: inherit;
      vertical-align: middle;
      object-fit: cover;
    }

    .info-wrap {
      display: flex;
      flex-direction: column;
      margin-left: 4%;
      width: 35%;
      aspect-ratio: 660/360;
      // transform: translateY(-50%);
      position: absolute;
      bottom: 24%;

      .skeleton {
        aspect-ratio: 660/360;
      }

      .logo {
        margin-bottom: 40px;
        max-width: inherit;
        // border: 1px solid yellow;

        img {
          width: auto;
          height: 100%;
          max-height: 160px;
          object-fit: contain;
        }
      }

      .logo-text {
        @include rs.font(6rem, 500, #fff);
      }
      .info-flex {
        display: flex;
        flex-wrap: wrap;
      }

      .innerFlex {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
      }
      .info1 {
        margin-right: 2rem;
      }
      .info2,
      .info3,
      .info4 {
        color: #fff;
        @include rs.font(1.6rem, 600, #fff);
        line-height: 150%;

        span {
          &::after {
            content: '·';
            padding: 0 8px;
          }
          &:last-child {
            &::after {
              content: '';
              padding: 0;
            }
          }
        }

        &::before {
          content: '·';
          padding: 0 8px;
        }

        &:empty {
          display: none;
        }
      }

      .info3 {
        &:empty {
          display: none;
        }
      }

      .info2 {
        &::before {
          content: '';
          padding: 0;
        }
      }

      .tagline {
        @include rs.font(1.8rem, 400, #fff);
        display: block;
        width: 100%;
      }

      .age {
        @include rs.age();
      }

      .infoTitle {
        margin-top: 20px;
        @include rs.font(1.8rem, 400, #fff);
        line-height: 150%;
      }
    }

    .progressBar {
      width: 70%;
      height: 8px;
      border-radius: 4px;
      background: rgba(255, 255, 255, 0.3);
      overflow: hidden;
      margin-bottom: 4rem;
      position: relative;

      .now {
        background: #33ddff;
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        display: block;
      }
    }

    .buttonWrap {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-top: 20px;

      .play {
        display: flex;
        width: 168px;
        padding: 12px 16px;

        justify-content: center;
        align-items: center;
        gap: 10px;
        border-radius: 8px;
        background: #fff;
        box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.15);
        @include rs.font(2rem, 500, #333);
        letter-spacing: -0.5px;

        &::after {
          content: '';
          width: 20px;
          aspect-ratio: 1/1;
          display: inline-block;
          background: url('../../../../public/icon/nowPlay.svg');
          background-repeat: no-repeat;
          background-position: center;
        }
        &:hover {
          background: #f4f4f4;
        }
      }

      .MyWish {
        width: 54px;
        aspect-ratio: 1/1;
        display: flex;
        padding: 5px;
        justify-content: center;
        align-items: center;
        gap: 10px;
        border-radius: 27px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background-color: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(12px);
        background-image: url('../../../../public/icon/heart.svg');
        background-repeat: no-repeat;
        background-position: center;

        &.active {
          background-image: url('../../../../public/icon/heartFillIcon.svg');
          background-repeat: no-repeat;
          background-color: rgba(255, 255, 255, 0.2);
          background-position: center;
        }
      }
    }
  }

  .relatedInfo {
    margin-top: -80px;
    position: relative;

    .buttonWrap {
      display: flex;
      padding: 0 4%;
      justify-content: start;
      align-items: center;
      position: relative;

      &::before {
        position: absolute;
      }

      button {
        width: 20%;
        @include rs.font(1.8rem, 500, #fff);
        line-height: 120%; /* 28.8px */
        letter-spacing: -0.2px;
        padding: 20px 30px;
        text-wrap: no-wrap;
        text-align: center;
        border-bottom: 4px solid transparent;
        &.active {
          border-bottom: 4px solid #fff;
        }
      }
    }
    .tab-content {
      background-color: #02172a;
    }

    //TODO 작품 정보

    .tab {
      padding: 80px 4%;

      h3 {
        @include rs.font(3rem, 500, #fff);
      }

      .grid {
        margin-top: 20px;
        display: grid;
        gap: 10px;

        &.col {
          grid-template-columns: repeat(5, minmax(100px, 20%));
          .grid-item {
            aspect-ratio: 300/440;
          }
        }

        &.row {
          grid-template-columns: repeat(3, minmax(100px, 550px));
          .grid-item {
            aspect-ratio: 550/ 300;
          }
        }

        .grid-item {
          width: 100%;
          height: auto;
          border-radius: 16px;
          box-shadow: 0 10px 32px -4px rgba(0, 0, 0, 0.2);
          overflow: hidden;
          filter: grayscale(0.5);

          img {
            width: 100%;
            height: 100%;
            vertical-align: middle;
            object-fit: cover;
            transition: ease 0.3s;
          }

          .iframe-box {
            width: 100%;
            height: 100%;
          }

          &:hover {
            filter: grayscale(0);
            img {
              transform: scale(1.1);
            }
          }
        }
      }
    }

    // 작품정보
    .detailData {
      display: flex;
      flex-direction: column;
      gap: 80px;
      .title {
        @include rs.font(2.4rem, 500, #fff);
        margin-bottom: 20px;
      }

      li {
        @include rs.font(1.8rem, 400, #ddd);
        line-height: -0.45%;
        word-break: keep-all;

        .production,
        .networks {
          margin-right: 8px;
        }
      }
    }

    // 컬렉션
    .collection {
      .info {
        margin-top: 20px;
        @include rs.font(1.6rem, 400, #fff);
      }

      .grid-item {
        img {
          max-width: 100%;
          object-fit: cover;
        }
      }
    }

    .trailers {
      iframe {
        width: 100%;
        height: 100%;
        border: none;
      }
    }

    .skeleton {
      pointer-events: none;
      .skeleton-image,
      .skeleton-video,
      .skeleton-text {
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.05) 25%,
          rgba(255, 255, 255, 0.1) 50%,
          rgba(255, 255, 255, 0.05) 75%
        );
        background-size: 200% 100%;
        animation: skeleton-loading 1.5s ease-in-out infinite;
        border-radius: 4px;
      }

      .skeleton-image {
        width: 100%;
        aspect-ratio: 2/3;
        margin-bottom: 8px;
      }

      .skeleton-video {
        width: 100%;
        aspect-ratio: 16/9;
        margin-bottom: 8px;
      }

      .skeleton-text {
        height: 20px;
        width: 80%;
        margin: 0 auto;
      }
    }
  }
}
